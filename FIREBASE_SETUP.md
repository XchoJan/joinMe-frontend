# –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ Firebase –¥–ª—è Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

## –®–∞–≥–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Firebase

### 1. –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ –≤ Firebase Console

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ [Firebase Console](https://console.firebase.google.com/)
2. –ù–∞–∂–º–∏—Ç–µ "Add project" (–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–µ–∫—Ç)
3. –í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "JoinMe")
4. –û—Ç–∫–ª—é—á–∏—Ç–µ Google Analytics (–∏–ª–∏ –≤–∫–ª—é—á–∏—Ç–µ, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
5. –ù–∞–∂–º–∏—Ç–µ "Create project"

### 2. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ iOS –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

1. –í Firebase Console –≤—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à –ø—Ä–æ–µ–∫—Ç
2. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∏–∫–æ–Ω–∫—É iOS (üçé)
3. –í–≤–µ–¥–∏—Ç–µ:
   - **iOS bundle ID**: –ù–∞–π–¥–∏—Ç–µ –≤ Xcode –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø—Ä–æ–µ–∫—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `com.joinme.app`)
   - **App nickname**: JoinMe iOS (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
   - **App Store ID**: (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –ø—É—Å—Ç—ã–º)
4. –ù–∞–∂–º–∏—Ç–µ "Register app"
5. **–°–∫–∞—á–∞–π—Ç–µ —Ñ–∞–π–ª `GoogleService-Info.plist`**
6. –ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ `GoogleService-Info.plist` –≤ –ø–∞–ø–∫—É `ios/JoinMe/` –≤ Xcode
7. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª –¥–æ–±–∞–≤–ª–µ–Ω –≤ target "JoinMe"
8. –ù–∞–∂–º–∏—Ç–µ "Next" –∏ —Å–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º (—É—Å—Ç–∞–Ω–æ–≤–∫–∞ CocoaPods —É–∂–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞)

### 3. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ Android –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

1. –í Firebase Console –≤—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à –ø—Ä–æ–µ–∫—Ç
2. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∏–∫–æ–Ω–∫—É Android (ü§ñ)
3. –í–≤–µ–¥–∏—Ç–µ:
   - **Android package name**: `com.joinme` (—É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –≤ `android/app/build.gradle`)
   - **App nickname**: JoinMe Android (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
   - **Debug signing certificate SHA-1**: (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
4. –ù–∞–∂–º–∏—Ç–µ "Register app"
5. **–°–∫–∞—á–∞–π—Ç–µ —Ñ–∞–π–ª `google-services.json`**
6. –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç–µ `google-services.json` –≤ –ø–∞–ø–∫—É `android/app/`
7. ‚úÖ **–£–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ**: –í —Ñ–∞–π–ª–µ `android/build.gradle` —É–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω `classpath 'com.google.gms:google-services:4.4.0'`
8. ‚úÖ **–£–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ**: –í —Ñ–∞–π–ª–µ `android/app/build.gradle` —É–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω `apply plugin: 'com.google.gms.google-services'`

### 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Cloud Messaging (FCM)

1. –í Firebase Console –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Project Settings** (‚öôÔ∏è)
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **Cloud Messaging**
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Cloud Messaging API –≤–∫–ª—é—á–µ–Ω

### 5. –ü–æ–ª—É—á–µ–Ω–∏–µ Service Account Key –¥–ª—è –±—ç–∫–µ–Ω–¥–∞

1. –í Firebase Console –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Project Settings** (‚öôÔ∏è)
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **Service accounts**
3. –ù–∞–∂–º–∏—Ç–µ **Generate new private key**
4. –°–∫–∞—á–∞–π—Ç–µ JSON —Ñ–∞–π–ª (–Ω–∞–ø—Ä–∏–º–µ—Ä, `joinme-firebase-adminsdk.json`)
5. **–í–ê–ñ–ù–û**: –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —ç—Ç–æ—Ç —Ñ–∞–π–ª –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º –º–µ—Å—Ç–µ, –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ –µ–≥–æ –≤ Git!

### 6. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–∞ –±—ç–∫–µ–Ω–¥–µ

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –ø–∞–ø–∫–µ `joinme-backend/` —Å–æ —Å–ª–µ–¥—É—é—â–∏–º —Å–æ–¥–µ—Ä–∂–∏–º—ã–º:

```env
# PROJECT_ID —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏–∑ GoogleService-Info.plist: joinme-f9d79
# –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å, —Ä–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ:
# FIREBASE_PROJECT_ID=joinme-f9d79

# –≠—Ç–∏ –∑–Ω–∞—á–µ–Ω–∏—è –Ω—É–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –∏–∑ Service Account Key (—Å–º. —à–∞–≥ 5)
FIREBASE_CLIENT_EMAIL=firebase-adminsdk-xxxxx@joinme-f9d79.iam.gserviceaccount.com
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nYOUR_PRIVATE_KEY\n-----END PRIVATE KEY-----\n"
```

**–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å —ç—Ç–∏ –∑–Ω–∞—á–µ–Ω–∏—è:**
- –û—Ç–∫—Ä–æ–π—Ç–µ —Å–∫–∞—á–∞–Ω–Ω—ã–π JSON —Ñ–∞–π–ª Service Account Key –∏–∑ —à–∞–≥–∞ 5
- `FIREBASE_PROJECT_ID` = `joinme-f9d79` (—É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –º–æ–∂–Ω–æ –Ω–µ —É–∫–∞–∑—ã–≤–∞—Ç—å)
- `FIREBASE_CLIENT_EMAIL` = –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ –ø–æ–ª—è `client_email` –≤ JSON —Ñ–∞–π–ª–µ
- `FIREBASE_PRIVATE_KEY` = –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ –ø–æ–ª—è `private_key` –≤ JSON —Ñ–∞–π–ª–µ (—Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Å–æ –≤—Å–µ–º–∏ `\n`)

**–í–∞–∂–Ω–æ:** 
- `PROJECT_ID` —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–∑ `GoogleService-Info.plist` (`joinme-f9d79`)
- –ù—É–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å —Ç–æ–ª—å–∫–æ `FIREBASE_CLIENT_EMAIL` –∏ `FIREBASE_PRIVATE_KEY` –∏–∑ Service Account Key

### 7. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π iOS

‚úÖ **–£–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ**: Firebase –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ autolinking React Native Firebase.

–í—ã–ø–æ–ª–Ω–∏—Ç–µ:

```bash
cd ios
pod install
cd ..
```

**–í–ê–ñ–ù–û**: 
- Firebase —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ `@react-native-firebase/app` –∏ `@react-native-firebase/messaging` –ø–∞–∫–µ—Ç—ã
- –í Podfile —É–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω `use_modular_headers!` –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ Swift pods Firebase
- –ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ pods, Firebase –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω

### 8. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Capabilities –¥–ª—è iOS

1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –≤ Xcode: `ios/JoinMe.xcworkspace`
2. –í—ã–±–µ—Ä–∏—Ç–µ target "JoinMe"
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Signing & Capabilities**
4. –ù–∞–∂–º–∏—Ç–µ **+ Capability**
5. –î–æ–±–∞–≤—å—Ç–µ **Push Notifications**
6. –î–æ–±–∞–≤—å—Ç–µ **Background Modes** –∏ –≤–∫–ª—é—á–∏—Ç–µ **Remote notifications**

### 9. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Android

‚úÖ **–£–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ**: –í —Ñ–∞–π–ª–µ `android/app/src/main/AndroidManifest.xml` —É–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è:
- `android.permission.INTERNET`
- `android.permission.POST_NOTIFICATIONS`

### 10. –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

–ü–æ—Å–ª–µ –≤—Å–µ—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫:

```bash
# iOS
npm run ios

# Android
npm run android
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
2. –í–æ–π–¥–∏—Ç–µ –≤ –ø—Ä–æ—Ñ–∏–ª—å
3. FCM —Ç–æ–∫–µ–Ω –¥–æ–ª–∂–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
4. –ü–æ–ø—Ä–æ—Å–∏—Ç–µ –¥—Ä—É–≥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É –Ω–∞ –≤–∞—à–µ —Å–æ–±—ã—Ç–∏–µ
5. –í—ã –¥–æ–ª–∂–Ω—ã –ø–æ–ª—É—á–∏—Ç—å push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º —Å–æ–±—ã—Ç–∏—è –∏ –∏–º–µ–Ω–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

## –û—Ç–ª–∞–¥–∫–∞

- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –±—ç–∫–µ–Ω–¥–∞ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ push
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ FCM —Ç–æ–∫–µ–Ω —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- –í Firebase Console –º–æ–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç–µ—Å—Ç–æ–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ **Cloud Messaging** ‚Üí **Send test message**

